{% extends "app_base/base.html" %}
{% load static %}
{% block links %}
    <link rel="stylesheet" href="{% static 'groups/css/style.css' %}">
    <!-- для модальних вікон -->
    <link rel="stylesheet" href="{% static 'groups/css/modal_1.css' %}">
    <link rel="stylesheet" href="{% static 'groups/css/modal_2.css' %}">
    <link rel="stylesheet" href="{% static 'groups/js/script.js' %}">
{% endblock %}
{% block content %}
<div class="group-container">
    <h1>Групові чати</h1>
    <div class="content_groups">
        <form method="post" action="{% url 'create_group' %}">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit">створити групу</button>
        </form>
    </div>
    <div class="content_search">
        <div class="groups">
            <h2>Мої групи</h2>
            <ul>
                {% for group in owned_groups %}
                    <li><a href="{% url 'group_chat' group.name %}">{{ group.name }}</a></li>
                {% endfor %}
            </ul>
        </div>
        <div class="groups">
            <h2>Групи, де я учасник</h2>
            <ul>
                {% for group in member_groups %}
                    <li><a href="{% url 'group_chat' group.name %}">{{ group.name }}</a></li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>
<!-- <div class="group-container">
    <h1>Групові чати</h1>
    <div class="content_groups">
        <input class="input" type="text" name="group" id="group-input" placeholder="Введіть назву групового чату">
        <svg class="svg" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed">
            <path d="m776.31-159.27-247.82-248q-29.68 25.54-68.57 39.17-38.88 13.64-77.11 13.64-94.77 0-159.92-65.27-65.16-65.27-65.16-159.5t65.06-159.65q65.06-65.43 159.5-65.43t159.86 65.34q65.43 65.35 65.43 159.68 0 40.98-14.66 79.92-14.65 38.95-38.15 66.3l248 247.34-26.46 26.46ZM382.65-391.38q79.12 0 133.56-54.3t54.44-133.75q0-79.45-54.44-133.7-54.44-54.25-133.75-54.25T248.9-713.09q-54.25 54.3-54.25 133.75 0 79.46 54.29 133.71 54.28 54.25 133.71 54.25Z"/>
        </svg>
        <button id="create_group">створити групу</button>
    
    </div>
    <div class="content_search">
        <div class="groups">
        </div>
        <div class="groups">
        </div>
    </div> -->
    <!-- Модальні вікна -->
    <!-- <div id = 'popup-bg'>
    </div>
    
    <div id="modal_1">
        <a href="#" id="close-modal_1">✖</a>
        <h2>Додати користувачів</h2>
        {% for user in users %}
            <div class="card-user">
                <div class="info1">
                    <h3>{{user.first_name}}</h3>
                    <h3>{{user.last_name}}</h4>
                    <h5>@{{user.username}}</h5>
                </div>

                <a href="{% url 'chat_with_user' user.id %}"><button>додати</button></a>
            </div>
        {% endfor %}
        <button style="width: 100%;" id="next_modal">далі</button>
    </div>

    <div id="modal_2">
        <a href="#" id="close-modal_2">✖</a>
        <h1>Фінальний штрих</h1>
        <input type="text" placeholder="Введіть назву групи...">
        <button style="width: 100%;" id="finish">створити групу</button>
    </div>
</div> -->

<!-- <script defer>
    const create_group = document.querySelector('#create_group')
    const modal_1 = document.querySelector('#modal_1')
    const popupBg = document.querySelector('#popup-bg')
    const close_modal_1 = document.querySelector('#close-modal_1')
    const btn_next_modal = document.querySelector('#next_modal')

    const modal_2 = document.querySelector('#modal_2')
    const close_modal_2 = document.querySelector("#close-modal_2")
    const finish = document.querySelector('#finish')

    create_group.addEventListener('click', function(){
    modal_1.classList.toggle("show")
    popupBg.classList.toggle('show')
    })

    btn_next_modal.addEventListener('click', function(){
        modal_2.classList.toggle('show')
        modal_1.classList.remove('show')
    })

    const closeModalElements = [popupBg, close_modal_1, close_modal_2]
    for(let i of closeModalElements){
        i.addEventListener('click', function(){
            modal_1.classList.remove('show')
            popupBg.classList.remove('show')
            modal_2.classList.remove('show')
        })
} 
</script> -->
{% endblock %}